# 经典网络
经典网络类型的云产品，统一部署在阿里云公共基础设施内，规划和管理由阿里云负责，更适合对网络易用性要求较高的用户，采用三层隔离。

# 专有网络
VPC是用户基于阿里云创建的自定义私有网络。基于隧道技术和软件自定义技术SDN。

专有网络VPC是基于阿里云构建的一个隔离网络环境，专有网络之间逻辑上彻底隔离。您可以自定义这个专有网络的拓扑和IP地址，适用于对网络安全性要求较高和有一定网络管理能力的用户，采用二层隔离，相对经典网络而言，专有网络具有较高的安全性和灵活性。
* 10.0.0.0/8
* 172.16.0.0/12
* 192.168.0.0/16
## 专有网络原理
基于隧道技术。每个VPC都有一个独立的隧道号，一个隧道号对应着一个虚拟网络。
* 云服务器的数据链路层（二层MAC地址）信息不回进入物理网络，实现了不同云服务器间二层网络隔离。
* 不同VPC间内部网络完全隔离，可以通过对外映射的IP（弹性公网IP和NATIP）互连。
## 删除VPC
* 要删除的VPC下没有交换机。
* 要删除的VPC下没有IPv6网关。
* 要删除的VPC下没有安全组、自定义路由表。网络ACL、DHCP选项集、云企业网等。
# 路由器
连接VPC内部的不同交换机、其他VPC和其他网络类型。
## 路由条目
路由条目由目标网段、下一跳类型、下一跳三部分组成。包括系统路由、自定义路由和动态路由。
* 目标网段：用户希望网络流量传输到的IP范围。
* 下一跳类型：用户传输流量的云产品，如ECS实例、VPN网关、弹性网卡。
* 下一跳：所选择的具体流量实例。

## 综合应用
* 可以将同一个路由表绑定到多个交换机。
* 一个交换机只能绑定一张路由表。
* 创建VPC和交换机后，系统会在路由表中会自动添加以下IPv4路由：以100.64.0.0/10为目标网段的路由条目，用于VPC内的云产品通信。
* 每个VPC最多可以拥有包括系统路由在内的10张路由表。
* 每个路由器可以维护多个路由表，支持创建和删除路由表。
# 交换机
* 一个交换机只能绑定一张路由表。
* ECS实例所属的交换机仅允许绑定一个网络ACL。
* 不支持组播和广播。
* 不支持修改网段。
* 每个交换机的第1个和最后3个IP地址为系统保留地址。
* 交换机的网段大小在16位网络掩码与29位网络掩码之间，可提供865536个地址。16位掩码能支持65532个ECS实例。而小于29位掩码又太小没有意义。
## 交换机网段
* 交换机网段必须是其所属VPC网段的子集。
* 第1和最后3个IP地址为系统保留地址。
* 网段不等于其它路由的目标网段范围相同或大于。
# IPv4网关
IPv4网关是连接专有网络 VPC和公网的网络组件。您可以使用IPv4网关结合子网路由的能力实现公网访问集中控制，以及将访问公网的流量引流至
虚拟防火墙，实现安全防护。

* 一个IPv4网关只能绑定一个网关路由表，但一个网关路由表可以绑定多个IPv4网关。

* 一个VPC只能创建一个IPv4网关。

IPv4网关具有以下功能：

* 作为VPC路由表中的路由下一跳，控制VPC访问公网的目的地址范围。
* 为VPC中分配了IPv4公网地址的网络资源（例如弹性网卡、ECS等），提供网络地址转换功能。

VPC包含以下资源时不支持创建IPv4网关：
* VPC内存在网卡可见模式。
* VPC内存在普通型公网NAT网关。

# ACL vs 安全组
|ACK|安全组|
|-|-|
|交换机级别。|实例级别。|
|无状态：返回数据流必须被规则明确允许。|有状态：返回数据会被自动允许，不受任何规则的影响。|
|不评估所有规则。|执行前会评估所有规则。|
|ECS所属的交换机仅允许绑定一个网络ACL。|一个ECS可以加入多个安全组。|
|绑定交换机，不可跨交换机子网。|可以跨交换机子网，不可跨VPC。|
|二层访问控制。|三次访问控制。|
# 流日志
* 资源类型：专有网络、交换机、弹性网卡。
* 流量类型：选择要捕获流量的类型(全部、允许、拒绝)。
* 采样间隔：1分钟、5分钟和10分钟。
#  SLB(负载均衡服务)
SLB主要用于负载均衡，通过分流网络流量来提高服务器性能。它能够将流量分发到多个服务器，平衡服务器的负载，从而提高整体性能和可靠性。SLB适用于访问量大、需要水平扩展的应用场景。通过使用SLB，可以减少单点故障的风险，并确保服务的可用性和可扩展性。
## SLB绑定EIP
* SLB实例的网络必须是专用网络。
* SLB实例的地域必须和EIP的地域相同。
* 一个SLB实例仅支持绑定一个EIP。
* EIP实例默认提供基础DDoS防护能力，如果业务有更高的安全防护需求，还可以选择DDoS防护（增强版），但是该功能需要开通DDoS原生防护。
* DDoS原生防护（按量付费）服务是按月开通产品，至少正式开通30天，30天内不支持停用服务，所以该功能不能灵活关闭。
#  EIP(弹性公网IP)
EIP提供独立的公网IP资源，可以绑定到云上的各种资源上，如ECS（弹性服务器）、NAT网关、私网负载均衡SLB等。EIP可以实现公网IP与资源的解耦，满足灵活管理的需求。其主要目的是为了解决服务器IP与服务器实体之间的强关联问题。在业务发展初期，访问量较小，用户购买一个较小规格的ECS实例即可满足业务需求。但随着用户量和业务量逐渐攀升，可能需要更换更大规格的ECS或使用SLB+ECS便于后续的扩展。如果没有EIP，更换ECS意味着更换实例IP，可能导致业务中断。而EIP的出现则很好地解决了这类问题。
* EIP可以添加到共享宽带实例中，如果用共享宽带，节省公网使用成本。
* 绑定ECS的网络类型必须是专有网络。
* 绑定ECS实例的地域必须和EIP的地域相同。
* 弹性公网IP（EIP）提供高精度**秒级监控**功能。借助秒级监控功能，您可以实时监控互联网业务流量变化，及时调整弹性公网IP的带宽峰值。**自动监控**。
* 公网NAT网关可以绑定多个EIP。
* 一个EIP只能绑定一个云资源。
* RDS不支持绑定EIP。
* 绑定时ECS实例必须处于运行中或者已停止。
#  NAT网关
NAT网关主要用于网络地址转换和隔离，提高网络的安全性和可靠性。它能够将私有IP地址转换为公网IP地址，实现内网与公网的通信。NAT网关适用于私有网络中需要访问公网的场景，如企业或组织内部的网络。通过使用NAT网关，可以实现公网的访问和安全隔离，保护内部网络不被外部攻击或入侵。

* SNAT(Source Network Address Translation)：源网络地址转换，内部地址要访问公网上的服务时，内部地址会主动发起连接，将内部地址转换为公网IP。有关这个地址转换称为SNAT。

* DNAT(Destination Network Address Translation)：目标地址转换，内部需要对外提供服务时，外部主动发起连接，路由器或者防火墙的网络接收到这个连接，然后将连接转换到内部，此过程是由带公网ip的网关代替内部服务来接收外部的连接，然后在内部做地址转换。此转换成为DNAT，主要用于内部服务对外发布。

* 丰富的监控指标
* 同一个VPC内支持创建多个公网NAT网管，最多5个。
* 公网NAT网关可以绑定最多20个EIP提供服务。
### 为已绑定EIP的ECS实力统一公网出口IP
为绑定了EIP的ESC实例单独分配一块弹性网卡，并将EIP绑定到弹性网卡上。

# NAT vs EIP
如果应用需要灵活地管理和扩展公网入口，并且需要解耦服务器IP与服务器实体之间的强关联，EIP是更合适的选择。而如果应该要在私有网络中安全地访问公网，并且需要实现地址的转换和隔离，那就更适合NAT网关。

# VPN 网关
VPN网关是一款网络连接服务，通过建立加密隧道的方式实现企业本地数据中心，企业办公网络，互联网客户端与阿里云专有网络VPC之间安全可靠的**私网连接**。

* 安全： 使用了IKE和IPsec协议对传输数据加密，保证了数据安全
* 稳定： 采用了双击热备架构
* 简单： 开箱即用
* 低成本：相比物理专线成本低

## IPsec-VPN
支持企业本地数据中心，企业办公网络与VPC建立网络连接。

是基于路由的网络连接技术，提供灵活的流量路由方式，方便配置和维护VPN策略

IPsec连接可绑定VPN网关实例，也可以绑定转发路由器实例，通过云企业网实现网络互通

* 已经常见阿里云账号，创建了VPC并部署云服务。
* 数据中心网关设备支持IKEv1和IKEv2协议。
* 本地数据中心的网关设备已经配置了**静态公网IP**。
* 本地数据中心与VPC互通的网段没有重叠。
* 确保安全组规则允许本地数据库中心的网关设备访问云资源。
* 创建IPsec连接后，需要**手动配置VPN网关路由**。

## SSL—VPN
是基于OpenVPN架构的网络连接技术。适用于在互联网客户与VPC之间建立网络连接。

* 部署后，仅需要再互联网客户端中加载证书并发起连接，互联网客户就可以与VPC互通。

* SSL—VPN仅支持绑定国际标准商用密码算法的**公用VPN网关实例**。

* SSL-VPN支持Windows、Linux、Mac、Android操作系统类型的客户端接入。

* 创建SSL服务端，SSL服务端的地域和VPN网关的地域必须相同。

# 智能接入网关
是阿里云提供的软件定义广域网SD-WAN解决方案。企业可通过智能接入网关实现一站式接入阿里云，获得更加智能，安全和可靠的上云体验。

三个产品形态：
* 硬件CPE设备形态：硬件设备。
* 镜像vCPE形态
* App形态：适用于终端接入上云。电脑、手机等终端安装智能接入网关App后可一键接入上云。

# 高速通道
应用场景：同地域/跨地域/跨账号两个VPC互联、VPC与本地IDC互连


## 边界路由器VBR
VBR提供一下功能：

# 云企业网
云企业网CEN是运行在阿里云私有全球网络上的一张高可用网络。云企业网通过转发路由器TR帮助您在**跨地域专有网络之间**，**专有网络和本地数据中心间搭建私网通信通道**，为您大招一张灵活、可靠、大规模的企业级云上网络。

# 全球加速GA
* 标准型：用户四层和七层网络加速
* 基础型：三层（IP协议）网络加速。
# 云连接器
云连接器由云连接器实例、 授权规则和连接地址 池三部分组成。其中授权规则由**目标地址类型**、 **目标地址**和**访问策略**三部分组成，可以允许或拒 绝物联网终端访问目标地址
ß
# HaVip
ECS实例除了可以拥有主私网IP地址外，还可以绑定HaVip，以获得多个私网IP地址。HaVip直接与ECS实例绑定。HaVip绑定ECS实例的主网卡或者ECS实例的辅助网卡。
* 1个HaVip支持同时绑定10个ECS实例网卡或者同绑定10弹性网卡，不能同时绑定ECS和弹性网卡。
* HaVip只支持单播，不支持广播。
# 云产品监控
云监控自动获取您当前阿里云账号下云产品的资源。您可以查看各云产品的监控图表，了解资源的运行状况。您也可以通过设置报警规则，帮助您监控资源的运行状况。当符合报警规则时，云监控自动发送报警通知，便于您及时获悉资源的运行状况。
# 标签
* 标签都是由键值对组成。
* 资源的任意不爱钱的标签键Key必须唯一。
* 用户可以修改标签的键和值，也可以随时删除实例的标签。如果删除实例，绑定实例的所有标签也会被删除。
* **单个实例最多可绑定20条标签**。绑定标签前，阿里云会校验资源已有标签数量。超过限制值后返回报错信息。
* 解绑标签时，如果这个标签不再绑定任何资源，则改标签会被自动删除。
# 边界路由VBR
* 支持BGP协议。
* VBR需要路由管理，VBR与VPC之间需要静态路由。
* 决定物理接口专线端口模式，三层路由接口或者基于VLAN的三层子接口。
* 不支持源地址策略路由。
* 每个VBR有且只有一张路由表。

# 云企业网 vs 高速通道
|对比项目|云企业网|高速通道|
|----|----|----|
|网络连接|全网互联。加载到云企业网的网络实例（VPC和VBR）彼此之间全网互联，任何两点间都可以通过云企业网建立安全、可靠、 高速的内网通信。|单点连接。高速通道不具有传递性。使用高速通道互通的VPC或本地数据中心只能和对端的VPC互通。|
|路由管理|动态学习。云企业网基于Fullmesh链路，动态学习并转发路由，提高了路由的快速收敛和网络通信的质量及安全性。|手动配置。高速通道配置过程中需要针对端到端进行路由配置。|
|带宽管理|跨地域共享带宽包。云企业网提供带宽包，带宽包按区域售卖，方便用户根据业务需要调整跨地域带宽。有利于资源调配和节约成本。|点到点购买高速通道的带宽需要在购买高速通道时指定互通地域的带宽。购买后可以调整带宽大小，但不可以更改地域。|